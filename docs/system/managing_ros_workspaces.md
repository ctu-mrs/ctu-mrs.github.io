---
layout: default
title: Managing ROS Workspaces
parent: The UAV system
nav_order: 1
---

# Managing ROS Workspaces

This guide is an important and mandatory reading for all MRS members.
Please, make a coffee and take your time to carefully study it, because it will make your (and Tomas's) life easier and it will help you avoid some compilation difficulties.

## What is a ROS Workspace?

ROS workspace (_workspace_ from now on) is a dedicated build space for ROS packages.
A workspace is supposed to cluster together related packages, for which it manages a set of build profiles, each with a custom set of CMAKE arguments.

### Workspace structure

Each maintained ROS workspace should have two following top-level structure:

```
workspace
├── build
├── devel
├── logs
└── src
```

where the **build**, **devel** and **logs** folder are generated by a build system, and the **src** contains the user'[s](s) packages.

## The tools to manage a workspace?

**Beware!** I common folk on the internet will guide you towards using the _catkin_make_ command.
Don't listen to everything you hear on the internet.
We use the **catkin tools** package [link](https://catkin-tools.readthedocs.io/en/latest/), that extends the function of the original _catkin_make_.

## Basic workspace operations

### Creating a workspace

1. create a directory for the workspace
```bash
mkdir -p ~/my_workspace/src
```
2. move to the root of the workspace
```bash
cd ~/my_workspace
```
3. call ```catkin tools```'s init command
```bash
catkin init
```

### Building a workspace

1. put at least one ROS package somewhere into `~/my_workspace/src`
2. call ```catkin tools```'s build command
```bash
catkin build
```

### Building a particular package

1. if you are in a subdirectory of the package, do
```bash
catkin build --this
```
or using our alias
```bash
catkin bt
```
2. you can invoke build using the package name form anywhere form the workspace
```bash
catkin build <my_package_name>
```

### Cleaning the workspace

Cleaning can be performed in two ways
1. manually, bu deleting the generates folder
```bash
cd ~/my_workspace
rm -rf build devel logs
```
2. automatically using the `catkin`'s clean command
```bash
cd ~/my_workspace
catkin clean
```

## Advanced workspace operations

### Extending another workspace

Workspaces can be linked togher such that dependencies between the workspaces can be satisfied.
Linking of workspaces is an integral mechanism for separating logical package into groups.

## Recommended workspace hierarchy

### Build profiles

TODO

### Package blacklisting

TODO
